<!DOCTYPE html>
<html lang="en">
<head>

<!-- WalletConnect v2 ‚Äì ESM build ‚Üí promoted to global -->
<script src="https://cdn.jsdelivr.net/npm/ethers@6.6.2/dist/ethers.umd.min.js"></script>



  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EMBER Presale</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <meta name="description" content="EMBER Token Presale ‚Äì You don‚Äôt have to rise like a hero. You just have to rise.">
  <meta property="og:title" content="EMBER Token Presale" />
  <meta property="og:description" content="You don‚Äôt have to rise like a hero. You just have to rise. Join the EMBER presale today." />
  <meta property="og:image" content="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Banner.png" />
  <meta property="og:url" content="https://embertoken.xyz" />
  <style>
#countdown {
  text-align: center;
  font-size: 1.4rem;
  color: #ffcc00;
  margin-top: 2rem;
  margin-bottom: 1rem;
}

    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #0b0c10;
      color: #f1f1f1;
    }
    .fade-in {
      animation: fadeIn 2s ease-in forwards;
      opacity: 0;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #111;
      border-bottom: 1px solid #ff7133;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .navbar img {
      height: 40px;
    }
    .navbar a {
      color: #ff7133;
      margin-left: 1rem;
      text-decoration: none;
      font-weight: bold;
    }
    .banner {
      width: 100%;
      height: 280px;
      overflow: hidden;
    }
    .banner img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      margin: 0 auto;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
    }
    h1 {
      font-size: 3rem;
      color: #ff7133;
      margin-bottom: 1rem;
    }
    p {
      font-size: 1.2rem;
      line-height: 1.8;
    }
    .wallet-box {
      background: #1c1c1e;
      padding: 1rem;
      border-radius: 12px;
      word-break: break-word;
      margin: 2rem 0;
      font-size: 1.1rem;
      border: 1px solid #ff7133;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin: 1.5rem 0 0.5rem;
    }
    .option {
      background: #111;
      border-left: 5px solid #ff7133;
      padding: 1.2rem;
      border-radius: 10px;
      text-align: left;
    }
    .option h3 {
      margin-top: 0;
      color: #ff7133;
    }
    a {
      color: #ff7133;
      text-decoration: none;
    }
    footer {
      margin-top: 0.5rem;
      text-align: left;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }
    footer h2 {
      color: #ff7133;
      margin-top: 2rem;
    }
    ul {
      font-size: 1.05rem;
      line-height: 1.6;
      padding-left: 1.2rem;
    }
    .socials {
      text-align: center;
      margin-top: 3rem;
    }
    .socials a {
      margin: 0 10px;
      font-size: 1.2rem;
      color: #ff7133;
    }
   .btn {
  padding: 0.75rem 1.5rem;
  background: linear-gradient(145deg, #ff7133, #ff4c00);
  border: none;
  color: white;
  font-weight: bold;
  letter-spacing: 0.5px;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(255, 113, 51, 0.3);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.btn:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(255, 113, 51, 0.5);
}

.btn:active {
  transform: scale(0.97);
  box-shadow: 0 3px 8px rgba(255, 113, 51, 0.4);
}

  </style>
<!-- WalletConnect ESM bootstrap -->
<script type="module">
  import { EthereumProvider } from "https://esm.sh/@walletconnect/ethereum-provider@2.12.0";
  window.WalletConnectEthereumProvider = EthereumProvider;
</script>

</head>
<body>
  <div class="navbar">
    <img src="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Logo.png" alt="EMBER Logo">
    <div>
      <a href="https://t.me/embertokentg" target="_blank">Telegram</a>
      <a href="https://x.com/Ember2110" target="_blank">X</a>
      <a href="https://github.com/SimSans/Ember" target="_blank">GitHub</a>
      <a href="https://basescan.org/address/0xCe4eEc09fD89359a542035A60F38d9d23FdFbc19#code" target="_blank">Contract</a>
      <a href="https://github.com/SimSans/Ember/blob/main/EMBR_Whitepaper.pdf" target="_blank">Whitepaper</a>
    </div>
  </div>
  <div class="banner fade-in">
    <img src="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Banner.png" alt="EMBER Banner">
  </div>
  <div class="container fade-in">
    <h1>EMBER Presale</h1>
    <p><em>"You don‚Äôt have to rise like a hero. You just have to rise."</em></p>
    <p>EMBER is a community-driven token forged in resilience. Secure your place in the fire early ‚Äî choose your presale tier below and send ETH to the official presale wallet.</p>
    <div class="wallet-box">
      0x5Cc848D9BB8ecc5Aa890C9C57562154589dccED4
    </div>
    <p style="margin-top: 0.5rem; font-size: 0.95rem; color: #ff9999;">
      ‚ö†Ô∏è <strong>Only use the official wallet listed above.</strong> We will never DM you for ETH.
    </p>
    <p style="margin-top: 1rem; font-size: 1.1rem; text-align: left;">
      üì• <strong>How to Participate:</strong><br>
      1. Connect your wallet to the buy logic. Enter desired ETH to send.<br>
      2. Choose your tier (Instant or Vested)<br>
      3. You're done!
    </p>
    <p style="margin-top: 1rem; font-size: 1.1rem; text-align: left;">
      üî• <strong>EMBR Sold:</strong> <span id="soldNow">0</span> / 100,000,000
    </p>
    <div class="options">
      <div class="option">
        <h3>‚ö° Instant Access (No Bonus)</h3>
        <p>Receive tokens immediately at launch ‚Äî no vesting, no delay.</p>
      </div>
      <div class="option">
        <h3>üïäÔ∏è Vested Access (+15% Bonus)</h3>
        <p>Tokens unlock over 3 months starting at launch.</p>
      </div>
    </div>
    <p style="margin-top: 1rem; font-size: 1.1rem; line-height: 1.6; text-align: left;">
      üìå <strong>Presale Rate:</strong> 1 ETH = 1,000,000 EMBR<br>
      üí• <strong>Total Presale Supply:</strong> 100,000,000 EMBR only<br>
      ‚õîÔ∏è First come, first filled ‚Äî once the cap is reached, form will close and further ETH will be refunded.<br>
      ‚úÖ Presale is fully on-chain. Send ETH, select your tier, and you're done.
    </p>
  </div>
<p style="text-align:center; font-size:0.95rem; color:#ffcc00;">
  ‚ö†Ô∏è On mobile, use WalletConnect or your wallet‚Äôs in-app browser.
</p>

 <!-- Countdown -->
<div id="countdown" class="fade-in">‚è≥ Countdown loading‚Ä¶</div>

<div id="status" style="text-align:center;font-size:1rem;color:#ccc;"></div>

<!-- 1Ô∏è‚É£  CONNECT  -->
<div id="connect-wrap" style="text-align:center;margin-top:2rem;">
  <button id="connectButton-browser" class="btn">Browser Wallet</button>
  <button id="connectButton-wc"      class="btn">WalletConnect</button>
</div>

<!-- 2Ô∏è‚É£  PRESALE UI (hidden until connected) -->
<div id="presale-ui" style="display:none;text-align:center;margin-top:2rem;">
  <input type="number" id="ethAmount" placeholder="ETH amount" />
  <p id="calcHint" style="margin:0.5rem 0 1rem;font-size:1rem;color:#ff7133;"></p>

  <div class="options" style="align-items:center;">
    <button class="btn" onclick="buyInstant()">Buy Instant</button>
    <button class="btn" onclick="buyVested()">Buy Vested (+15%)</button>
  </div>

  <button class="btn" id="claimBtn" onclick="claimTokens()"
          style="display:none;margin-top:2rem;">
    Claim Vested
  </button>
</div>

  <footer class="fade-in">
    <h2>üß† Why EMBER?</h2>
    <p>EMBER was born from the belief that crypto shouldn‚Äôt just be about charts ‚Äî but about people. Those who stay through the fire. Those who don‚Äôt give up. EMBER is for them.</p>
    <h2>üìà Roadmap</h2>
    <ul>
      <li><strong>üî• Phase I ‚Äî Launch:</strong> Token goes live on Base. Presale tokens distributed. Liquidity added.</li>
      <li><strong>üí¨ Phase II ‚Äî Community:</strong> Twitter/X growth, Telegram raids, meme movement and engagement campaigns.</li>
      <li><strong>üöÄ Phase III ‚Äî Expansion Fund:</strong> Presale funds allocated to expand listings, marketing, and long-term ecosystem sustainability. Strategic LP adds and future listings.</li>
      <li><strong>üï∏Ô∏è Phase IV ‚Äî Growth:</strong> CEX listings, partnerships, possible DAO discussions, and project utility exploration.</li>
    </ul>
    <h2>üîê Why Trust EMBER?</h2>
    <ul>
      <li>‚úîÔ∏è Verified contract on Base (open-source)</li>
      <li>‚úîÔ∏è No minting, no taxes, no stealth functions</li>
      <li>‚úîÔ∏è Transparent GitHub and whitepaper</li>
      <li>‚úîÔ∏è ETH-only presale ‚Äî contracted , fair, and honest</li>
      <li>‚úîÔ∏è Vested option rewards long-term belief</li>
    </ul>
    <div class="socials">
      <h2>üì£ Join the Movement</h2>
      <a href="https://t.me/embertokentg" target="_blank">Telegram</a>
      <a href="https://x.com/Ember2110" target="_blank">Twitter/X</a>
      <a href="https://github.com/SimSans/Ember" target="_blank">GitHub</a>
    </div>
    <p style="margin-top: 3rem; font-style: italic; font-size: 1.1rem; color: #ccc;">
      ‚ÄúReal fire never fears the storm. You are not alone ‚Äî rise with us.‚Äù
    </p>
  </footer>
 <!-- ========= MAIN DAPP SCRIPT ========= -->
<script>
/* ---------- constants ---------- */
const PRESALE_ADDRESS = "0x5Cc848D9BB8ecc5Aa890C9C57562154589dccED4";
const SALE_ABI = [
  "function buyInstant() payable",
  "function buyVested() payable",
  "function claim()",
  "function totalSold() view returns (uint256)"
];

let provider, signer, presale;

/* ---------- shared helpers ---------- */
const statusEl   = document.getElementById("status");
const soldSpan   = document.getElementById("soldNow");
const connectUI  = document.getElementById("connect-wrap");
const presaleUI  = document.getElementById("presale-ui");

const setStatus  = (txt, ok=true) => {
  statusEl.textContent = txt;
  statusEl.style.color = ok ? "#00ff99" : "#ff6666";
};

/* ---------- injected-wallet connect ---------- */
async function connectBrowser() {
  if (!window.ethereum) return setStatus("‚ùå No injected wallet found", false);
  try {
    await window.ethereum.request({ method: "eth_requestAccounts" });
    provider = new ethers.BrowserProvider(window.ethereum);
    signer   = await provider.getSigner();

    await ensureBase();               // switch/check network
    initPresale();
  } catch (err) { setStatus("‚ùå " + err.message, false); }
}

/* ---------- wallet-connect connect ---------- */
async function connectWalletConnect() {
  try {
    const wcProv = await WalletConnectEthereumProvider.init({
      projectId : "44f1b2ac5c89b529e5451a32217af2e4",
      chains    : [8453],      // Base
      showQrModal: true
    });
    await wcProv.connect();

    provider = new ethers.BrowserProvider(wcProv);
    signer   = await provider.getSigner();
    initPresale();
  } catch (err) { setStatus("‚ùå " + err.message, false); }
}

/* ---------- once connected ---------- */
async function initPresale() {
  presale = new ethers.Contract(PRESALE_ADDRESS, SALE_ABI, signer);
  setStatus("‚úÖ Connected: " + await signer.getAddress());
  connectUI.style.display = "none";
  presaleUI.style.display = "block";
}

/* ---------- buy / claim ---------- */
async function buy(kind) {
  const amt = parseFloat(document.getElementById("ethAmount").value);
  if (!amt) return alert("Enter ETH amount");
  try {
    const fn = kind === "instant" ? presale.buyInstant : presale.buyVested;
    const tx = await fn({ value: ethers.parseEther(String(amt)) });
    await tx.wait();
    alert("‚úÖ Purchase successful");
  } catch (e) { alert("‚ùå " + e.message); }
}
const buyInstant = () => buy("instant");
const buyVested  = () => buy("vested");
async function claimTokens() {
  try { const tx = await presale.claim(); await tx.wait(); alert("‚úÖ Claimed"); }
  catch (e) { alert("‚ùå " + e.message); }
}

/* ---------- network guard ---------- */
async function ensureBase() {
  const { chainId } = await provider.getNetwork();
  if (Number(chainId) !== 8453) {
    throw new Error("Please switch to Base mainnet");
  }
}

/* ---------- sold tracker ---------- */
async function refreshSold() {
  try {
    const raw  = await presale.totalSold();
    const sold = parseFloat(ethers.formatUnits(raw, 18));
    soldSpan.textContent = sold.toLocaleString();
  } catch { soldSpan.textContent = "‚Äî"; }
}

/* ---------- countdown ---------- */
const claimStart = Date.parse("2025-07-14T12:00:00Z");
function tick() {
  const now = Date.now(), d = claimStart - now;
  if (d <= 0) { countdown.textContent = "üöÄ Claim LIVE"; return; }
  const dd=Math.floor(d/864e5),hh=Math.floor(d/36e5)%24,
        mm=Math.floor(d/6e4)%60, ss=Math.floor(d/1e3)%60;
  countdown.textContent = `üî• Presale LIVE for: ${dd}d ${hh}h ${mm}m ${ss}s`;
  setTimeout(tick,1e3);
}
tick();

/* ---------- wire buttons after DOM loaded ---------- */
window.addEventListener("DOMContentLoaded", () => {
  document.getElementById("connectButton-browser").onclick = connectBrowser;
  document.getElementById("connectButton-wc").onclick      = connectWalletConnect;
  refreshSold(); setInterval(refreshSold, 60_000);
});
</script>

<script>
window.addEventListener('DOMContentLoaded', () => {
  const RATE  = 1000000;   // 1 ETH = 1 000 000 EMBR
  const BONUS = 0.15;      // +15 % for vested

  const ethField  = document.getElementById('ethAmount');
  const calcHint  = document.getElementById('calcHint');

  ethField.addEventListener('input', () => {
    const eth = parseFloat(ethField.value);
    if (!eth || eth <= 0) { calcHint.textContent = ''; return; }

    const instant = eth * RATE;
    const vested  = instant * (1 + BONUS);

    calcHint.innerHTML =
      `Instant ‚áí <strong>${instant.toLocaleString()}</strong> EMBR&nbsp;&nbsp;|&nbsp;&nbsp;` +
      `Vested (+15%) ‚áí <strong>${vested.toLocaleString()}</strong> EMBR`;
  });
});
</script>

<script>
/* ---------- LIVE ‚ÄúEMBR sold‚Äù tracker ---------- */
const SOLD_RPC  = "https://mainnet.base.org";     // Base main-net public RPC
const soldProv  = new ethers.JsonRpcProvider(SOLD_RPC);
const soldAbi   = ["function totalSold() view returns (uint256)"];
const soldCtr   = new ethers.Contract(PRESALE_ADDRESS, soldAbi, soldProv);
const soldSpan  = document.getElementById("soldNow");

async function refreshSold () {
  try {
    const raw   = await soldCtr.totalSold();          // uint256
    const sold  = parseFloat(ethers.formatUnits(raw, 18));
    soldSpan.textContent = sold.toLocaleString();
  } catch (err) {
    console.error("Sold-tracker error:", err);
    soldSpan.textContent = "‚Äî";
  }
}

/* initial fetch + auto-refresh every 60 s */
refreshSold();
setInterval(refreshSold, 60_000);
</script>
