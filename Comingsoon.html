<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EMBER Presale</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <meta name="description" content="EMBER Token Presale ‚Äì You don‚Äôt have to rise like a hero. You just have to rise.">
  <meta property="og:title" content="EMBER Token Presale" />
  <meta property="og:description" content="You don‚Äôt have to rise like a hero. You just have to rise. Join the EMBER presale today." />
  <meta property="og:image" content="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Banner.png" />
  <meta property="og:url" content="https://embertoken.xyz" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #0b0c10;
      color: #f1f1f1;
    }
    .fade-in {
      animation: fadeIn 2s ease-in forwards;
      opacity: 0;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #111;
      border-bottom: 1px solid #ff7133;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .navbar img {
      height: 40px;
    }
    .navbar a {
      color: #ff7133;
      margin-left: 1rem;
      text-decoration: none;
      font-weight: bold;
    }
    .banner {
      width: 100%;
      height: 280px;
      overflow: hidden;
    }
    .banner img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      margin: 0 auto;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
    }
    h1 {
      font-size: 3rem;
      color: #ff7133;
      margin-bottom: 1rem;
    }
    p {
      font-size: 1.2rem;
      line-height: 1.8;
    }
    .wallet-box {
      background: #1c1c1e;
      padding: 1rem;
      border-radius: 12px;
      word-break: break-word;
      margin: 2rem 0;
      font-size: 1.1rem;
      border: 1px solid #ff7133;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin: 1.5rem 0 0.5rem;
    }
    .option {
      background: #111;
      border-left: 5px solid #ff7133;
      padding: 1.2rem;
      border-radius: 10px;
      text-align: left;
    }
    .option h3 {
      margin-top: 0;
      color: #ff7133;
    }
    a {
      color: #ff7133;
      text-decoration: none;
    }
    footer {
      margin-top: 0.5rem;
      text-align: left;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }
    footer h2 {
      color: #ff7133;
      margin-top: 2rem;
    }
    ul {
      font-size: 1.05rem;
      line-height: 1.6;
      padding-left: 1.2rem;
    }
    .socials {
      text-align: center;
      margin-top: 3rem;
    }
    .socials a {
      margin: 0 10px;
      font-size: 1.2rem;
      color: #ff7133;
    }
   .btn {
  padding: 0.75rem 1.5rem;
  background: linear-gradient(145deg, #ff7133, #ff4c00);
  border: none;
  color: white;
  font-weight: bold;
  letter-spacing: 0.5px;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(255, 113, 51, 0.3);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.btn:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(255, 113, 51, 0.5);
}

.btn:active {
  transform: scale(0.97);
  box-shadow: 0 3px 8px rgba(255, 113, 51, 0.4);
}

  </style>
 <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <div class="navbar">
    <img src="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Logo.png" alt="EMBER Logo">
    <div>
      <a href="https://t.me/embertokentg" target="_blank">Telegram</a>
      <a href="https://x.com/Ember2110" target="_blank">X</a>
      <a href="https://github.com/SimSans/Ember" target="_blank">GitHub</a>
      <a href="https://basescan.org/address/0xCe4eEc09fD89359a542035A60F38d9d23FdFbc19#code" target="_blank">Contract</a>
      <a href="https://github.com/SimSans/Ember/blob/main/EMBR_Whitepaper.pdf" target="_blank">Whitepaper</a>
    </div>
  </div>
  <div class="banner fade-in">
    <img src="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Banner.png" alt="EMBER Banner">
  </div>
  <div class="container fade-in">
    <h1>EMBER Presale</h1>
    <p><em>"You don‚Äôt have to rise like a hero. You just have to rise."</em></p>
    <p>EMBER is a community-driven token forged in resilience. Secure your place in the fire early ‚Äî choose your presale tier below and send ETH to the official presale wallet.</p>
    <div class="wallet-box">
      0x1c4b84562B1050a71904DC7567E37e3cF8DD6Fb4
    </div>
    <p style="margin-top: 0.5rem; font-size: 0.95rem; color: #ff9999;">
      ‚ö†Ô∏è <strong>Only use the official wallet listed above.</strong> We will never DM you for ETH.
    </p>
    <p style="margin-top: 1rem; font-size: 1.1rem; text-align: left;">
      üì• <strong>How to Participate:</strong><br>
      1. Send ETH to the official wallet<br>
      2. Choose your tier (Instant or Vested)<br>
      3. Fill out the short form to lock your spot
    </p>
    <p style="margin-top: 1rem; font-size: 1.1rem; text-align: left;">
      üî• <strong>EMBR Sold So Far:</strong> 100,000,000 / 100,000,000 (updated hourly)
    </p>
    <div class="options">
      <div class="option">
        <h3>‚ö° Instant Access (No Bonus)</h3>
        <p>Receive tokens immediately at launch ‚Äî no vesting, no delay.</p>
      </div>
      <div class="option">
        <h3>üïäÔ∏è Vested Access (+15% Bonus)</h3>
        <p>Tokens unlock over 3 months starting at launch.</p>
      </div>
    </div>
    <p style="margin-top: 1rem; font-size: 1.1rem; line-height: 1.6; text-align: left;">
      üìå <strong>Presale Rate:</strong> 1 ETH = 1,000,000 EMBR<br>
      üí• <strong>Total Presale Supply:</strong> 100,000,000 EMBR only<br>
      ‚õîÔ∏è First come, first filled ‚Äî once the cap is reached, form will close and further ETH will be refunded.<br>
      ‚úÖ After sending ETH, <strong><a href="https://forms.gle/svN3u32ajrmLyf2u5" target="_blank" style="color: #ff7133;">please fill this short form</a></strong> to confirm your wallet, tier, and amount sent.
    </p>
  </div>
 <div id="countdown" style="text-align: center; font-size: 1.1rem; color: #ff7133; margin-top: 1rem;">‚è≥ Countdown loading...</div>
 <button class="btn" id="connectBtn" onclick="connect()" style="margin: 1rem auto; display: block;">Connect Wallet</button>
 <div id="status" style="text-align: center; font-size: 1rem; color: #ccc;"></div>
 <div id="presale-ui" style="display: none; text-align: center; margin-top: 2rem;">
  <input type="number" id="ethAmount" placeholder="ETH amount" style="padding: 0.5rem; font-size: 1rem; border-radius: 6px; border: 1px solid #ccc; margin-bottom: 1rem; width: 80%; max-width: 300px;" />
  <div class="options" style="align-items: center;">
    <button class="btn" onclick="buyInstant()">Buy Instantly</button>
    <button class="btn" onclick="buyVested()">Buy Vested (+15%)</button>
  </div>
  <button class="btn" id="claimBtn" onclick="claimTokens()" style="display: none; margin-top: 2rem;">Claim Vested</button>
  </div>
  <footer class="fade-in">
    <h2>üß† Why EMBER?</h2>
    <p>EMBER was born from the belief that crypto shouldn‚Äôt just be about charts ‚Äî but about people. Those who stay through the fire. Those who don‚Äôt give up. EMBER is for them.</p>
    <h2>üìà Roadmap</h2>
    <ul>
      <li><strong>üî• Phase I ‚Äî Launch:</strong> Token goes live on Base. Presale tokens distributed. Liquidity added.</li>
      <li><strong>üí¨ Phase II ‚Äî Community:</strong> Twitter/X growth, Telegram raids, meme movement and engagement campaigns.</li>
      <li><strong>üöÄ Phase III ‚Äî Expansion Fund:</strong> Presale funds allocated to expand listings, marketing, and long-term ecosystem sustainability. Strategic LP adds and future listings.</li>
      <li><strong>üï∏Ô∏è Phase IV ‚Äî Growth:</strong> CEX listings, partnerships, possible DAO discussions, and project utility exploration.</li>
    </ul>
    <h2>üîê Why Trust EMBER?</h2>
    <ul>
      <li>‚úîÔ∏è Verified contract on Base (open-source)</li>
      <li>‚úîÔ∏è No minting, no taxes, no stealth functions</li>
      <li>‚úîÔ∏è Transparent GitHub and whitepaper</li>
      <li>‚úîÔ∏è ETH-only presale ‚Äî manual, fair, and honest</li>
      <li>‚úîÔ∏è Vested option rewards long-term belief</li>
    </ul>
    <div class="socials">
      <h2>üì£ Join the Movement</h2>
      <a href="https://t.me/embertokentg" target="_blank">Telegram</a>
      <a href="https://x.com/Ember2110" target="_blank">Twitter/X</a>
      <a href="https://github.com/SimSans/Ember" target="_blank">GitHub</a>
    </div>
    <p style="margin-top: 3rem; font-style: italic; font-size: 1.1rem; color: #ccc;">
      ‚ÄúReal fire never fears the storm. You are not alone ‚Äî rise with us.‚Äù
    </p>
  </footer>
 <script>
const PRESALE_ADDRESS = "0x5Cc848D9BB8ecc5Aa890C9C57562154589dccED4";
const TOKEN_ADDRESS = "0xCe4eEc09fD89359a542035A60F38d9d23FdFbc19";
let signer, presale, embr, provider;

const claimStartTime = new Date("2025-06-25T12:00:00Z").getTime();
const countdownEl = document.getElementById("countdown");

function updateCountdown() {
  const now = new Date().getTime();
  const distance = claimStartTime - now;
  const countdownEl = document.getElementById("countdown");

  if (!countdownEl) return;

  if (distance <= 0) {
    countdownEl.innerHTML = `<span style="color: #00ff99;">üöÄ Claim Phase is now <strong>LIVE</strong>!</span>`;

    const presaleUI = document.getElementById("presale-ui");
    if (presaleUI) {
      // Hide or remove buy section without deleting the whole element
      presaleUI.innerHTML = `
        <button class="btn" id="claimBtn" onclick="claimTokens()" style="margin-top: 2rem;">Claim Vested</button>
      `;
    }

    return;
  }

  const d = Math.floor(distance / (1000 * 60 * 60 * 24));
  const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const s = Math.floor((distance % (1000 * 60)) / 1000);

  countdownEl.innerHTML = `üî• <strong>Claim begins in:</strong> ${d}d ${h}h ${m}m ${s}s`;
  setTimeout(updateCountdown, 1000);
}

async function connect() {
  try {
    if (!window.ethereum) throw new Error("No wallet detected");
    const provider = new ethers.BrowserProvider(window.ethereum);
    await window.ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0x2105' }] });
    await provider.send("eth_requestAccounts", []);
    signer = await provider.getSigner();

    presale = new ethers.Contract(PRESALE_ADDRESS, [
      "function buyInstant() payable",
      "function buyVested() payable",
      "function claim()"
    ], signer);

    embr = new ethers.Contract(TOKEN_ADDRESS, [
      "function balanceOf(address) view returns (uint256)"
    ], provider);

    updateStatus("‚úÖ Connected successfully.");
    document.getElementById("connectBtn").style.display = "none";
    document.getElementById("presale-ui").style.display = "block";
    updateTracker();
  } catch (e) {
    console.error("Connection failed:", e);
    updateStatus("Connection failed: " + (e?.message || e));
  }
}

async function buyInstant() {
  const amount = document.getElementById("ethAmount").value;
  if (!amount || isNaN(amount)) return alert("Enter valid ETH amount");
  try {
    const tx = await presale.buyInstant({ value: ethers.parseEther(amount) });
    await tx.wait();
    alert("‚úÖ Purchase successful (Instant)");
  } catch (e) {
    alert("‚ùå Transaction failed: " + (e?.message || e));
  }
}

async function buyVested() {
  const amount = document.getElementById("ethAmount").value;
  if (!amount || isNaN(amount)) return alert("Enter valid ETH amount");
  try {
    const tx = await presale.buyVested({ value: ethers.parseEther(amount) });
    await tx.wait();
    alert("‚úÖ Purchase successful (Vested)");
  } catch (e) {
    alert("‚ùå Transaction failed: " + (e?.message || e));
  }
}

async function claimTokens() {
  try {
    const tx = await presale.claim();
    await tx.wait();
    alert("‚úÖ Claim successful");
  } catch (e) {
    alert("‚ùå Claim failed: " + (e?.message || e));
  }
}

function updateStatus(msg) {
  const el = document.getElementById("status");
  if (el) el.innerText = msg;
}

function updateTracker() {
  const tracker = document.getElementById("status");
  if (tracker) tracker.innerText = "üìä EMBR Sold Tracker: Coming soon...";
}
updateCountdown();
</script>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EMBER Presale</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <meta name="description" content="EMBER Token Presale ‚Äì You don‚Äôt have to rise like a hero. You just have to rise.">
  <meta property="og:title" content="EMBER Token Presale" />
  <meta property="og:description" content="You don‚Äôt have to rise like a hero. You just have to rise. Join the EMBER presale today." />
  <meta property="og:image" content="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Banner.png" />
  <meta property="og:url" content="https://embertoken.xyz" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #0b0c10;
      color: #f1f1f1;
    }
    .fade-in {
      animation: fadeIn 2s ease-in forwards;
      opacity: 0;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background-color: #111;
      border-bottom: 1px solid #ff7133;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .navbar img {
      height: 40px;
    }
    .navbar a {
      color: #ff7133;
      margin-left: 1rem;
      text-decoration: none;
      font-weight: bold;
    }
    .banner {
      width: 100%;
      height: 280px;
      overflow: hidden;
    }
    .banner img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      margin: 0 auto;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
    }
    h1 {
      font-size: 3rem;
      color: #ff7133;
      margin-bottom: 1rem;
    }
    p {
      font-size: 1.2rem;
      line-height: 1.8;
    }
    .wallet-box {
      background: #1c1c1e;
      padding: 1rem;
      border-radius: 12px;
      word-break: break-word;
      margin: 2rem 0;
      font-size: 1.1rem;
      border: 1px solid #ff7133;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      margin: 1.5rem 0 0.5rem;
    }
    .option {
      background: #111;
      border-left: 5px solid #ff7133;
      padding: 1.2rem;
      border-radius: 10px;
      text-align: left;
    }
    .option h3 {
      margin-top: 0;
      color: #ff7133;
    }
    a {
      color: #ff7133;
      text-decoration: none;
    }
    footer {
      margin-top: 0.5rem;
      text-align: left;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
    }
    footer h2 {
      color: #ff7133;
      margin-top: 2rem;
    }
    ul {
      font-size: 1.05rem;
      line-height: 1.6;
      padding-left: 1.2rem;
    }
    .socials {
      text-align: center;
      margin-top: 3rem;
    }
    .socials a {
      margin: 0 10px;
      font-size: 1.2rem;
      color: #ff7133;
    }
   .btn {
  padding: 0.75rem 1.5rem;
  background: linear-gradient(145deg, #ff7133, #ff4c00);
  border: none;
  color: white;
  font-weight: bold;
  letter-spacing: 0.5px;
  border-radius: 8px;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(255, 113, 51, 0.3);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.btn:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(255, 113, 51, 0.5);
}

.btn:active {
  transform: scale(0.97);
  box-shadow: 0 3px 8px rgba(255, 113, 51, 0.4);
}

  </style>
 <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <div class="navbar">
    <img src="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Logo.png" alt="EMBER Logo">
    <div>
      <a href="https://t.me/embertokentg" target="_blank">Telegram</a>
      <a href="https://x.com/Ember2110" target="_blank">X</a>
      <a href="https://github.com/SimSans/Ember" target="_blank">GitHub</a>
      <a href="https://basescan.org/address/0xCe4eEc09fD89359a542035A60F38d9d23FdFbc19#code" target="_blank">Contract</a>
      <a href="https://github.com/SimSans/Ember/blob/main/EMBR_Whitepaper.pdf" target="_blank">Whitepaper</a>
    </div>
  </div>
  <div class="banner fade-in">
    <img src="https://raw.githubusercontent.com/SimSans/Ember/main/assets/Ember_Banner.png" alt="EMBER Banner">
  </div>
  <div class="container fade-in">
    <h1>EMBER Presale</h1>
    <p><em>"You don‚Äôt have to rise like a hero. You just have to rise."</em></p>
    <p>EMBER is a community-driven token forged in resilience. Secure your place in the fire early ‚Äî choose your presale tier below and send ETH to the official presale wallet.</p>
    <div class="wallet-box">
      0x1c4b84562B1050a71904DC7567E37e3cF8DD6Fb4
    </div>
    <p style="margin-top: 0.5rem; font-size: 0.95rem; color: #ff9999;">
      ‚ö†Ô∏è <strong>Only use the official wallet listed above.</strong> We will never DM you for ETH.
    </p>
    <p style="margin-top: 1rem; font-size: 1.1rem; text-align: left;">
      üì• <strong>How to Participate:</strong><br>
      1. Send ETH to the official wallet<br>
      2. Choose your tier (Instant or Vested)<br>
      3. Fill out the short form to lock your spot
    </p>
    <p style="margin-top: 1rem; font-size: 1.1rem; text-align: left;">
      üî• <strong>EMBR Sold So Far:</strong> 100,000,000 / 100,000,000 (updated hourly)
    </p>
    <div class="options">
      <div class="option">
        <h3>‚ö° Instant Access (No Bonus)</h3>
        <p>Receive tokens immediately at launch ‚Äî no vesting, no delay.</p>
      </div>
      <div class="option">
        <h3>üïäÔ∏è Vested Access (+15% Bonus)</h3>
        <p>Tokens unlock over 3 months starting at launch.</p>
      </div>
    </div>
    <p style="margin-top: 1rem; font-size: 1.1rem; line-height: 1.6; text-align: left;">
      üìå <strong>Presale Rate:</strong> 1 ETH = 1,000,000 EMBR<br>
      üí• <strong>Total Presale Supply:</strong> 100,000,000 EMBR only<br>
      ‚õîÔ∏è First come, first filled ‚Äî once the cap is reached, form will close and further ETH will be refunded.<br>
      ‚úÖ After sending ETH, <strong><a href="https://forms.gle/svN3u32ajrmLyf2u5" target="_blank" style="color: #ff7133;">please fill this short form</a></strong> to confirm your wallet, tier, and amount sent.
    </p>
  </div>
 <div id="countdown" style="text-align: center; font-size: 1.1rem; color: #ff7133; margin-top: 1rem;">‚è≥ Countdown loading...</div>
 <button class="btn" id="connectBtn" onclick="connect()" style="margin: 1rem auto; display: block;">Connect Wallet</button>
 <div id="status" style="text-align: center; font-size: 1rem; color: #ccc;"></div>
 <div id="presale-ui" style="display: none; text-align: center; margin-top: 2rem;">
  <input type="number" id="ethAmount" placeholder="ETH amount" style="padding: 0.5rem; font-size: 1rem; border-radius: 6px; border: 1px solid #ccc; margin-bottom: 1rem; width: 80%; max-width: 300px;" />
  <div class="options" style="align-items: center;">
    <button class="btn" onclick="buyInstant()">Buy Instantly</button>
    <button class="btn" onclick="buyVested()">Buy Vested (+15%)</button>
  </div>
  <button class="btn" id="claimBtn" onclick="claimTokens()" style="display: none; margin-top: 2rem;">Claim Vested</button>
  </div>
  <footer class="fade-in">
    <h2>üß† Why EMBER?</h2>
    <p>EMBER was born from the belief that crypto shouldn‚Äôt just be about charts ‚Äî but about people. Those who stay through the fire. Those who don‚Äôt give up. EMBER is for them.</p>
    <h2>üìà Roadmap</h2>
    <ul>
      <li><strong>üî• Phase I ‚Äî Launch:</strong> Token goes live on Base. Presale tokens distributed. Liquidity added.</li>
      <li><strong>üí¨ Phase II ‚Äî Community:</strong> Twitter/X growth, Telegram raids, meme movement and engagement campaigns.</li>
      <li><strong>üöÄ Phase III ‚Äî Expansion Fund:</strong> Presale funds allocated to expand listings, marketing, and long-term ecosystem sustainability. Strategic LP adds and future listings.</li>
      <li><strong>üï∏Ô∏è Phase IV ‚Äî Growth:</strong> CEX listings, partnerships, possible DAO discussions, and project utility exploration.</li>
    </ul>
    <h2>üîê Why Trust EMBER?</h2>
    <ul>
      <li>‚úîÔ∏è Verified contract on Base (open-source)</li>
      <li>‚úîÔ∏è No minting, no taxes, no stealth functions</li>
      <li>‚úîÔ∏è Transparent GitHub and whitepaper</li>
      <li>‚úîÔ∏è ETH-only presale ‚Äî manual, fair, and honest</li>
      <li>‚úîÔ∏è Vested option rewards long-term belief</li>
    </ul>
    <div class="socials">
      <h2>üì£ Join the Movement</h2>
      <a href="https://t.me/embertokentg" target="_blank">Telegram</a>
      <a href="https://x.com/Ember2110" target="_blank">Twitter/X</a>
      <a href="https://github.com/SimSans/Ember" target="_blank">GitHub</a>
    </div>
    <p style="margin-top: 3rem; font-style: italic; font-size: 1.1rem; color: #ccc;">
      ‚ÄúReal fire never fears the storm. You are not alone ‚Äî rise with us.‚Äù
    </p>
  </footer>
 <script>
const PRESALE_ADDRESS = "0x5Cc848D9BB8ecc5Aa890C9C57562154589dccED4";
const TOKEN_ADDRESS = "0xCe4eEc09fD89359a542035A60F38d9d23FdFbc19";
let signer, presale, embr, provider;

const claimStartTime = new Date("2025-06-25T12:00:00Z").getTime();
const countdownEl = document.getElementById("countdown");

function updateCountdown() {
  const now = new Date().getTime();
  const distance = claimStartTime - now;
  const countdownEl = document.getElementById("countdown");

  if (!countdownEl) return;

  if (distance <= 0) {
    countdownEl.innerHTML = `<span style="color: #00ff99;">üöÄ Claim Phase is now <strong>LIVE</strong>!</span>`;

    const presaleUI = document.getElementById("presale-ui");
    if (presaleUI) {
      // Hide or remove buy section without deleting the whole element
      presaleUI.innerHTML = `
        <button class="btn" id="claimBtn" onclick="claimTokens()" style="margin-top: 2rem;">Claim Vested</button>
      `;
    }

    return;
  }

  const d = Math.floor(distance / (1000 * 60 * 60 * 24));
  const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  const s = Math.floor((distance % (1000 * 60)) / 1000);

  countdownEl.innerHTML = `üî• <strong>Claim begins in:</strong> ${d}d ${h}h ${m}m ${s}s`;
  setTimeout(updateCountdown, 1000);
}

async function connect() {
  try {
    if (!window.ethereum) throw new Error("No wallet detected");
    const provider = new ethers.BrowserProvider(window.ethereum);
    await window.ethereum.request({ method: 'wallet_switchEthereumChain', params: [{ chainId: '0x2105' }] });
    await provider.send("eth_requestAccounts", []);
    signer = await provider.getSigner();

    presale = new ethers.Contract(PRESALE_ADDRESS, [
      "function buyInstant() payable",
      "function buyVested() payable",
      "function claim()"
    ], signer);

    embr = new ethers.Contract(TOKEN_ADDRESS, [
      "function balanceOf(address) view returns (uint256)"
    ], provider);

    updateStatus("‚úÖ Connected successfully.");
    document.getElementById("connectBtn").style.display = "none";
    document.getElementById("presale-ui").style.display = "block";
    updateTracker();
  } catch (e) {
    console.error("Connection failed:", e);
    updateStatus("Connection failed: " + (e?.message || e));
  }
}


async function buyInstant() {
  const amount = document.getElementById("ethAmount").value;
  if (!amount || isNaN(amount)) return alert("Enter valid ETH amount");
  try {
    const tx = await presale.buyInstant({ value: ethers.parseEther(amount) });
    await tx.wait();
    alert("‚úÖ Purchase successful (Instant)");
  } catch (e) {
    alert("‚ùå Transaction failed: " + (e?.message || e));
  }
}

async function buyVested() {
  const amount = document.getElementById("ethAmount").value;
  if (!amount || isNaN(amount)) return alert("Enter valid ETH amount");
  try {
    const tx = await presale.buyVested({ value: ethers.parseEther(amount) });
    await tx.wait();
    alert("‚úÖ Purchase successful (Vested)");
  } catch (e) {
    alert("‚ùå Transaction failed: " + (e?.message || e));
  }
}

async function claimTokens() {
  try {
    const tx = await presale.claim();
    await tx.wait();
    alert("‚úÖ Claim successful");
  } catch (e) {
    alert("‚ùå Claim failed: " + (e?.message || e));
  }
}

function updateStatus(msg) {
  const el = document.getElementById("status");
  if (el) el.innerText = msg;
}

function updateTracker() {
  const tracker = document.getElementById("status");
  if (tracker) tracker.innerText = "üìä EMBR Sold Tracker: Coming soon...";
}
updateCountdown();
</script>
<script>
  const ratePerEth = 1000000; // 1 ETH = 1,000,000 EMBR

  document.addEventListener("DOMContentLoaded", () => {
    const ethInput = document.getElementById("ethAmount");
    const output = document.createElement("div");
    output.id = "embrOutput";
    output.style.color = "#ff7133";
    output.style.marginTop = "0.5rem";
    ethInput.parentNode.appendChild(output);

    ethInput.addEventListener("input", () => {
      const eth = parseFloat(ethInput.value);
      if (!isNaN(eth) && eth > 0) {
        const embr = (eth * ratePerEth).toLocaleString();
        output.innerHTML = `üí∏ <strong>You will receive: ${embr} EMBR</strong>`;
      } else {
        output.innerHTML = "";
      }
    });
  });
</script>
</body>
</html>
